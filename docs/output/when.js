Ext.data.JsonP.when({"tagname":"class","name":"when","autodetected":{},"files":[{"filename":"when.js","href":"when.html#when"}],"singleton":true,"author":[{"tagname":"author","name":"Brian Cavalier","email":null}],"members":[{"name":"constructor","tagname":"method","owner":"when","id":"method-constructor","meta":{}},{"name":"all","tagname":"method","owner":"when","id":"method-all","meta":{}},{"name":"any","tagname":"method","owner":"when","id":"method-any","meta":{}},{"name":"defer","tagname":"method","owner":"when","id":"method-defer","meta":{}},{"name":"isPromiseLike","tagname":"method","owner":"when","id":"method-isPromiseLike","meta":{}},{"name":"join","tagname":"method","owner":"when","id":"method-join","meta":{}},{"name":"lift","tagname":"method","owner":"when","id":"method-lift","meta":{}},{"name":"map","tagname":"method","owner":"when","id":"method-map","meta":{}},{"name":"promise","tagname":"method","owner":"when","id":"method-promise","meta":{}},{"name":"race","tagname":"method","owner":"when","id":"method-race","meta":{}},{"name":"reduce","tagname":"method","owner":"when","id":"method-reduce","meta":{}},{"name":"reduceRight","tagname":"method","owner":"when","id":"method-reduceRight","meta":{}},{"name":"reject","tagname":"method","owner":"when","id":"method-reject","meta":{}},{"name":"resolve","tagname":"method","owner":"when","id":"method-resolve","meta":{}},{"name":"settle","tagname":"method","owner":"when","id":"method-settle","meta":{}},{"name":"some","tagname":"method","owner":"when","id":"method-some","meta":{}},{"name":"try","tagname":"method","owner":"when","id":"method-try","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-when","short_doc":"A lightweight CommonJS Promises/A and when() implementation. ...","classIcon":"icon-singleton","superclasses":[],"subclasses":[],"mixedInto":[],"implementedBy":[],"mixins":[],"implements":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Files</h4><div class='dependency'><a href='source/when.html#when' target='_blank'>when.js</a></div></pre><div class='doc-contents'><p>A lightweight CommonJS Promises/A and when() implementation.</p>\n\n<div class=\"notice\">\nDocumentation for this class comes from <a href=\"https://github.com/cujojs/when/blob/master/docs/api.md#when\">when.js</a>\nand is available under <a href=\"ttp://www.opensource.org/licenses/mit-license.php\">MIT license</a>.\n</div>\n\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-constructor' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-constructor' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-constructor' class='name expandable'>when</a>( <span class='pre'>x, [onFulfilled], [onRejected], [onProgress]</span> ) : <a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Get a trusted promise for x. ...</div><div class='long'><p>Get a trusted promise for <code>x</code>. If <code>x</code>. If <code>onFulfilled</code> is provided then get a trusted promise by transforming <code>x</code> with <code>onFulfilled</code>.</p>\n\n<p><code>when()</code> accepts any promise that provides a thenable promise--any object that provides a <code>.then()</code> method,\neven promises that aren't fully Promises/A+ compliant, such as jQuery's Deferred.\nIt will assimilate such promises and make them behave like Promises/A+.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>x</span> : *<div class='sub-desc'>\n</div></li><li><span class='pre'>onFulfilled</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a> (optional)<div class='sub-desc'><p>callback to be called when x is\nsuccessfully fulfilled. If promiseOrValue is an immediate value, callback\nwill be invoked immediately.</p>\n</div></li><li><span class='pre'>onRejected</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a> (optional)<div class='sub-desc'><p>callback to be called when x is\nrejected.</p>\n</div></li><li><span class='pre'>onProgress</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a> (optional)<div class='sub-desc'><p>callback to be called when progress updates\nare issued for x.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'><p>a new promise that will fulfill with the return\nvalue of callback or errback or the completion value of promiseOrValue if\ncallback and/or errback is not supplied.</p>\n\n<p>Returns a trusted promise for <code>x</code>. If <code>x</code> is:</p>\n\n<ul>\n<li>a value, returns a promise fulfilled with <code>x</code></li>\n<li>a promise, returns <code>x</code></li>\n<li>a foreign thenable, returns a promise that follows <code>x</code></li>\n</ul>\n\n\n<p>Returns a trusted promise by transforming <code>x</code> with <code>onFulfilled</code>. If <code>x</code> is:</p>\n\n<ul>\n<li>a value, returns a promise fulfilled with <code>onFulfilled(x)</code></li>\n<li>a promise or thenable, returns a promise that\n\n<ul>\n<li>if <code>x</code> fulfills, will fulfill with the result of calling <code>onFulfilled</code> with <code>x</code>'s fulfillment value.</li>\n<li>if <code>x</code> rejects, will reject with the same reason as <code>x</code></li>\n</ul>\n</li>\n</ul>\n\n</div></li></ul></div></div></div><div id='method-all' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-all' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-all' class='name expandable'>all</a>( <span class='pre'>promisesOrValues</span> ) : <a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Return a promise that will resolve only once all the items in array have resolved. ...</div><div class='long'><p>Return a promise that will resolve only once all the items in array have resolved. The resolution value of the returned promise will be an array containing the resolution values of each of the items in array.\nIf any of the promises is rejected, the returned promise will be rejected with the rejection reason of the first promise that was rejected.</p>\n\n<pre><code>var promise = <a href=\"#!/api/when-method-all\" rel=\"when-method-all\" class=\"docClass\">when.all</a>(array)\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>promisesOrValues</span> : <a href=\"#!/api/Array\" rel=\"Array\" class=\"docClass\">Array</a>|<a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><div class='sub-desc'><p>array of anything, may contain a mix of promises and values</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-any' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-any' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-any' class='name expandable'>any</a>( <span class='pre'>array</span> ) : <a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Initiates a competitive race that allows one winner, returning a promise that will resolve when\nany one of the items ...</div><div class='long'><p>Initiates a competitive race that allows one winner, returning a promise that will resolve when\nany one of the items in array resolves. The returned promise will only reject if all items in array\nare rejected. The resolution value of the returned promise will be the fulfillment value of the\nwinning promise. The rejection value will be an array of all rejection reasons.</p>\n\n<pre><code>var promise = <a href=\"#!/api/when-method-any\" rel=\"when-method-any\" class=\"docClass\">when.any</a>(array)\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>array</span> : <a href=\"#!/api/Array\" rel=\"Array\" class=\"docClass\">Array</a><div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-defer' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-defer' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-defer' class='name expandable'>defer</a>( <span class='pre'></span> ) : <a href=\"#!/api/when.Deferred\" rel=\"when.Deferred\" class=\"docClass\">Deferred</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Note: The use of defer is discouraged. ...</div><div class='long'><blockquote><p><strong>Note</strong>: The use of <a href=\"#!/api/when-method-defer\" rel=\"when-method-defer\" class=\"docClass\">defer</a> is discouraged. In most cases, using <a href=\"#!/api/when-method-promise\" rel=\"when-method-promise\" class=\"docClass\">promise</a>, <a href=\"#!/api/when-method-try\" rel=\"when-method-try\" class=\"docClass\">try</a>, or <a href=\"#!/api/when-method-lift\" rel=\"when-method-lift\" class=\"docClass\">lift</a>\nprovides better separation of concerns.</p></blockquote>\n\n<p>Create a <code>{<a href=\"#!/api/when.Deferred-property-promise\" rel=\"when.Deferred-property-promise\" class=\"docClass\">promise</a>, <a href=\"#!/api/when.Deferred-method-resolve\" rel=\"when.Deferred-method-resolve\" class=\"docClass\">resolve</a>, <a href=\"#!/api/when.Deferred-method-reject\" rel=\"when.Deferred-method-reject\" class=\"docClass\">reject</a>, <a href=\"#!/api/when.Deferred-method-notify\" rel=\"when.Deferred-method-notify\" class=\"docClass\">notify</a>}</code> tuple.\nIn certain (rare) scenarios it can be convenient to have access to both the promise and it's associated resolving\nfunctions.</p>\n\n<pre><code>var promise = deferred.promise;\n// Resolve the promise, x may be a promise or non-promise\ndeferred.resolve(x)\n\n// Reject the promise with error as the reason\ndeferred.reject(error)\n\n// Notify promise consumers of a progress update\ndeferred.notify(x)\n</code></pre>\n\n<p>Note that <a href=\"#!/api/when.Deferred-method-resolve\" rel=\"when.Deferred-method-resolve\" class=\"docClass\">resolve</a>, <a href=\"#!/api/when.Deferred-method-reject\" rel=\"when.Deferred-method-reject\" class=\"docClass\">reject</a>, and <a href=\"#!/api/when.Deferred-method-notify\" rel=\"when.Deferred-method-notify\" class=\"docClass\">notify</a> all become <a href=\"https://en.wikipedia.org/wiki/NOP\">no-ops</a>\nafter either resolve or reject has been called the first time.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/when.Deferred\" rel=\"when.Deferred\" class=\"docClass\">Deferred</a></span><div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-isPromiseLike' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-isPromiseLike' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-isPromiseLike' class='name expandable'>isPromiseLike</a>( <span class='pre'>x</span> ) : <a href=\"#!/api/Boolean\" rel=\"Boolean\" class=\"docClass\">Boolean</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Return true if anything is an object or function with a then method. ...</div><div class='long'><p>Return true if anything is an object or function with a then method. It does not distinguish\ntrusted when.js promises from other \"thenables\" (e.g. from some other promise implementation).</p>\n\n<pre><code>var is = <a href=\"#!/api/when-method-isPromiseLike\" rel=\"when-method-isPromiseLike\" class=\"docClass\">when.isPromiseLike</a>(anything);\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>x</span> : *<div class='sub-desc'><p>anything</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/Boolean\" rel=\"Boolean\" class=\"docClass\">Boolean</a></span><div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-join' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-join' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-join' class='name expandable'>join</a>( <span class='pre'>promises</span> ) : <a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Return a promise that will resolve only once all the inputs have resolved. ...</div><div class='long'><p>Return a promise that will resolve only once all the inputs have resolved. The resolution value\nof the returned promise will be an array containing the resolution values of each of the inputs.\nIf any of the input promises is rejected, the returned promise will be rejected with the reason from the first one that is rejected.</p>\n\n<pre><code>var joinedPromise = <a href=\"#!/api/when-method-join\" rel=\"when-method-join\" class=\"docClass\">when.join</a>(promiseOrValue1, promiseOrValue2, ...);\n\n// largerPromise will resolve to the greater of two eventual values\nvar largerPromise = <a href=\"#!/api/when-method-join\" rel=\"when-method-join\" class=\"docClass\">when.join</a>(promise1, promise2).then(function (values) {\n    return values[0] &gt; values[1] ? values[0] : values[1];\n});\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>promises</span> : ...<a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><div class='sub-desc'><p>One or more promises.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'><p>a promise that will fulfill when <em>all</em> the input promises have fulfilled, or\nwill reject when <em>any one</em> of the input promises rejects.</p>\n</div></li></ul></div></div></div><div id='method-lift' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-lift' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-lift' class='name expandable'>lift</a>( <span class='pre'>f</span> ) : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Creates a \"promisified\" version of f, which always returns promises (result will never throw) and accepts\npromises or...</div><div class='long'><p>Creates a \"promisified\" version of <code>f</code>, which always returns promises (<code>result</code> will never throw) and accepts\npromises or values as arguments. In other words, calling <code>result(x, y z)</code> is like calling <code><a href=\"#!/api/when-method-try\" rel=\"when-method-try\" class=\"docClass\">when.try</a>(f, x, y, z)</code>\nwith the added convenience that once you've created <code>result</code> you can call it repeatedly or pass it around like\nany other function. In addition, <code>result</code>'s thisArg will behave in a predictable way, like any other\nfunction (you can <a href=\"#!/api/Function-method-bind\" rel=\"Function-method-bind\" class=\"docClass\">Function.bind</a> it, or use <a href=\"#!/api/Function-method-call\" rel=\"Function-method-call\" class=\"docClass\">Function.call</a> or <a href=\"#!/api/Function-method-apply\" rel=\"Function-method-apply\" class=\"docClass\">Function.apply</a>, etc.).</p>\n\n<p>Like <a href=\"#!/api/when-method-try\" rel=\"when-method-try\" class=\"docClass\">try</a>, lifting functions provides a convenient way start promise chains without having to explicitly\ncreate promises.</p>\n\n<pre><code>// Call parse as often as you need now.\n// It will always return a promise, and will never throw\n// Errors will be captured in the returned promise.\nvar jsonParse = <a href=\"#!/api/when-method-lift\" rel=\"when-method-lift\" class=\"docClass\">when.lift</a>(JSON.parse);\n\n// Now use it wherever you need\nreturn jsonParse(jsonString);\n</code></pre>\n\n<p><a href=\"#!/api/when-method-lift\" rel=\"when-method-lift\" class=\"docClass\">lift</a> correctly handles <code>this</code>, so object methods can be lifted as well:</p>\n\n<pre><code>var parser = {\n    reviver: ...\n    parse: <a href=\"#!/api/when-method-lift\" rel=\"when-method-lift\" class=\"docClass\">when.lift</a>(function(str) {\n        return JSON.parse(str, this.reviver);\n    });\n};\n\n// Now use it wherever you need\nreturn parser.parse(jsonString);\n</code></pre>\n        <p>Available since: <b>3.0</b></p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>f</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a></span><div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-map' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-map' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-map' class='name expandable'>map</a>( <span class='pre'>array, mapFunc</span> ) : <a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Traditional array map function, similar to Array.prototype.map(), but allows input to contain promises and/or values,...</div><div class='long'><p>Traditional array map function, similar to Array.prototype.map(), but allows input to contain promises and/or values, and mapFunc may return either a value or a promise.\nIf any of the promises is rejected, the returned promise will be rejected with the rejection reason of the first promise that was rejected.</p>\n\n<pre><code>var promise = <a href=\"#!/api/when-method-map\" rel=\"when-method-map\" class=\"docClass\">when.map</a>(array, mapFunc)\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>array</span> : <a href=\"#!/api/Array\" rel=\"Array\" class=\"docClass\">Array</a>|<a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><div class='sub-desc'><p>array of anything, may contain promises and values</p>\n</div></li><li><span class='pre'>mapFunc</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>map function which may return a promise or value</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>item</span> : *<div class='sub-desc'><p>item A fully resolved value</p>\n</div></li></ul></div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'><p>promise that will fulfill with an array of mapped values or reject if any input promise rejects.</p>\n</div></li></ul></div></div></div><div id='method-promise' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-promise' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-promise' class='name expandable'>promise</a>( <span class='pre'>resolver</span> ) : <a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Create a Promise, whose fate is determined by the supplied resolver function. ...</div><div class='long'><p>Create a Promise, whose fate is determined by the supplied resolver function. The resolver function will be called synchronously.</p>\n\n<pre><code>var promise = <a href=\"#!/api/when-method-promise\" rel=\"when-method-promise\" class=\"docClass\">when.promise</a>(function(resolve, reject, notify) {\n    // Do some work, possibly asynchronously, and then\n    // resolve or reject.  You can notify of progress events\n    // along the way if you want/need.\n\n    resolve(awesomeResult);\n    // or resolve(anotherPromise);\n    // or reject(nastyError);\n});\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>resolver</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>The resolver function to determinate this promise.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>resolve(valueOrPromise)</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>Primary function that seals the fate of the returned promise.\nAccepts either a non-promise value, or another promise. When called with a non-promise value, fulfills\npromise with that value, When called with another promise, promise's fate will be equivalent to\nthat that of otherPromise.</p>\n</div></li><li><span class='pre'>reject(reason)</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>function that rejects promise</p>\n</div></li><li><span class='pre'>notify(update)</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>function that issues progress events for promise with update.</p>\n</div></li></ul></div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'><p>promise whose fate is determine by resolver</p>\n</div></li></ul></div></div></div><div id='method-race' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-race' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-race' class='name expandable'>race</a>( <span class='pre'>promises</span> ) : <a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Initiates a competitive race that allows one winner. ...</div><div class='long'><p>Initiates a competitive race that allows one winner. The returned promise will settle to the same\nstate as the first input promise to settle.</p>\n\n<blockquote><p><strong>WARNING</strong>: The ES6 Promise spec requires that race()ing an empty array must return a promise\nthat is pending forever. This implementation returns a singleton forever-pending promise, the same\nsingleton that is returned by <a href=\"#!/api/when.Promise-method-never\" rel=\"when.Promise-method-never\" class=\"docClass\">Promise.never</a>, thus can be checked with <code>===</code></p></blockquote>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>promises</span> : <a href=\"#!/api/Array\" rel=\"Array\" class=\"docClass\">Array</a><div class='sub-desc'><p>array of promises to race</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'><p>if input is non-empty, a promise that will settle to the same outcome as the\nearliest input promise to settle. if empty is empty, returns a promise that will never settle.</p>\n</div></li></ul></div></div></div><div id='method-reduce' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-reduce' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-reduce' class='name expandable'>reduce</a>( <span class='pre'>promise, reducer</span> ) : <a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Traditional array reduce function, similar to Array.prototype.reduce(), but input may contain promises\nand/or values,...</div><div class='long'><p>Traditional array reduce function, similar to Array.prototype.reduce(), but input may contain promises\nand/or values, and reduceFunc may return either a value or a promise, and initialValue may be a promise for the starting value.</p>\n\n<pre><code>var promise = <a href=\"#!/api/when-method-reduce\" rel=\"when-method-reduce\" class=\"docClass\">when.reduce</a>(array, reduceFunc [, initialValue])\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>promise</span> : <a href=\"#!/api/Array\" rel=\"Array\" class=\"docClass\">Array</a>|<a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><div class='sub-desc'><p>array or promise for an array of anything, may contain a mix of promises and values.</p>\n\n</div></li><li><span class='pre'>reducer</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>The reduce function.</p>\n\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>currentResult</span> : *<div class='sub-desc'><p>The the current accumulated reduce value.</p>\n\n</div></li><li><span class='pre'>value</span> : *<div class='sub-desc'><p>the fully resolved value at index in array.</p>\n\n</div></li><li><span class='pre'>index</span> : <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a><div class='sub-desc'><p>the basis of value, practically speaking, this is the array index of the array corresponding to value.</p>\n\n</div></li><li><span class='pre'>total</span> : <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a><div class='sub-desc'><p>the total number of items in array.</p>\n\n</div></li></ul></div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'><p>that will resolve to the final reduced value</p>\n\n</div></li></ul></div></div></div><div id='method-reduceRight' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-reduceRight' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-reduceRight' class='name expandable'>reduceRight</a>( <span class='pre'>promise, reducer</span> ) : <a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Traditional array reduce function, similar to Array.prototype.reduce(), but input may contain promises\nand/or values,...</div><div class='long'><p>Traditional array reduce function, similar to Array.prototype.reduce(), but input may contain promises\nand/or values, and reduceFunc may return either a value or a promise, and initialValue may be a promise for the starting value.</p>\n\n<pre><code>var promise = <a href=\"#!/api/when-method-reduce\" rel=\"when-method-reduce\" class=\"docClass\">when.reduce</a>(array, reduceFunc [, initialValue])\n</code></pre>\n<p>This performs the exact same operation as <a href=\"#!/api/when-method-reduce\" rel=\"when-method-reduce\" class=\"docClass\">reduce</a> except we iterate <code>array</code> from\nright-to-left instead of left-to-right</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>promise</span> : <a href=\"#!/api/Array\" rel=\"Array\" class=\"docClass\">Array</a>|<a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><div class='sub-desc'><p>array or promise for an array of anything, may contain a mix of promises and values.</p>\n\n</div></li><li><span class='pre'>reducer</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>The reduce function.</p>\n\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>currentResult</span> : *<div class='sub-desc'><p>The the current accumulated reduce value.</p>\n\n</div></li><li><span class='pre'>value</span> : *<div class='sub-desc'><p>the fully resolved value at index in array.</p>\n\n</div></li><li><span class='pre'>index</span> : <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a><div class='sub-desc'><p>the basis of value, practically speaking, this is the array index of the array corresponding to value.</p>\n\n</div></li><li><span class='pre'>total</span> : <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a><div class='sub-desc'><p>the total number of items in array.</p>\n\n</div></li></ul></div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'><p>that will resolve to the final reduced value</p>\n\n</div></li></ul></div></div></div><div id='method-reject' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-reject' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-reject' class='name expandable'>reject</a>( <span class='pre'>promiseOrValue</span> ) : <a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Create a rejected promise with the supplied error as the rejection reason. ...</div><div class='long'><p>Create a rejected promise with the supplied error as the rejection reason.</p>\n\n<pre><code>var rejected = <a href=\"#!/api/when-method-reject\" rel=\"when-method-reject\" class=\"docClass\">when.reject</a>(error);\n</code></pre>\n\n<blockquote><p><strong>DEPRECATION WARNING</strong>: In when.js 2.x, error is allowed to be a promise for an error.\nIn when.js 3.0, error will always be used verbatim as the rejection reason, even if it is a promise.</p></blockquote>\n\n<p>If error is a value, it will be the rejection reason of the returned promise.\nIf error is a promise, its rejection reason will be the rejection reason of the returned promise.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>promiseOrValue</span> : *<div class='sub-desc'><p>the rejected value of the returned promise.</p>\n\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-resolve' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-resolve' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-resolve' class='name expandable'>resolve</a>( <span class='pre'>value</span> ) : <a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Create a resolved promise for the supplied promiseOrValue. ...</div><div class='long'><p>Create a resolved promise for the supplied promiseOrValue. If promiseOrValue is a value, it will\nbe the resolution value of the returned promise. Returns promiseOrValue if it's a trusted promise.\nIf promiseOrValue is a foreign promise, returns a promise in the same state (resolved or rejected)\nand with the same value as promiseOrValue.</p>\n\n<pre><code>var resolved = <a href=\"#!/api/when-method-resolve\" rel=\"when-method-resolve\" class=\"docClass\">when.resolve</a>(promiseOrValue);\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>value</span> : *<div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-settle' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-settle' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-settle' class='name expandable'>settle</a>( <span class='pre'>array</span> ) : <a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Returns a promise for an array containing the same number of elements as the input array. ...</div><div class='long'><p>Returns a promise for an array containing the same number of elements as the input array.\nEach element is a descriptor object describing of the outcome of the corresponding element in the input.\nThe returned promise will only reject if array itself is a rejected promise. Otherwise, it will always\nfulfill with an array of descriptors. This is in contrast to <a href=\"#!/api/when-method-all\" rel=\"when-method-all\" class=\"docClass\">when.all</a>, which will reject if any element of array rejects.</p>\n\n<pre><code>// Process all successful results, and also log all errors\n\n// Input array\nvar array = [<a href=\"#!/api/when-method-reject\" rel=\"when-method-reject\" class=\"docClass\">when.reject</a>(1), 2, <a href=\"#!/api/when-method-resolve\" rel=\"when-method-resolve\" class=\"docClass\">when.resolve</a>(3), <a href=\"#!/api/when-method-reject\" rel=\"when-method-reject\" class=\"docClass\">when.reject</a>(4)];\n\n// Settle all inputs\nvar settled = <a href=\"#!/api/when-method-settle\" rel=\"when-method-settle\" class=\"docClass\">when.settle</a>(array);\n\n// Logs 1 &amp; 4 and processes 2 &amp; 3\nsettled.then(function(descriptors) {\n    descriptors.forEach(function(d) {\n        if(d.state === 'rejected') {\n            logError(d.reason);\n        } else {\n            processSuccessfulResult(d.value);\n        }\n    });\n});\n</code></pre>\n\n<p>Depending how the promise state is, the descriptor will be correspondingly:</p>\n\n<ul>\n<li>fulfilled: <code>{ state: 'fulfilled', value: &lt;fulfillmentValue&gt; }</code></li>\n<li>rejected: <code>{ state: 'rejected', reason: &lt;rejectionReason&gt; }</code></li>\n</ul>\n\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>array</span> : <a href=\"#!/api/Array\" rel=\"Array\" class=\"docClass\">Array</a>|<a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><div class='sub-desc'><p>array or promise for array of promises to settle</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'><p>promise that always fulfills with an array of descriptors for each input promise.</p>\n</div></li></ul></div></div></div><div id='method-some' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-some' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-some' class='name expandable'>some</a>( <span class='pre'>promisesOrValues, howMany</span> ) : <a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Initiates a competitive race that allows howMany winners, returning a promise that will resolve\nwhen howMany of the i...</div><div class='long'><p>Initiates a competitive race that allows howMany winners, returning a promise that will resolve\nwhen howMany of the items in array resolve. The returned promise will reject if it becomes impossible\nfor howMany items to resolve--that is, when (array.length - howMany) + 1 items reject. The resolution\nvalue of the returned promise will be an array of howMany winning promise fulfillment values.\nThe rejection value will be an array of (array.length - howMany) + 1 rejection reasons.</p>\n\n<pre><code>var promise = <a href=\"#!/api/when-method-some\" rel=\"when-method-some\" class=\"docClass\">when.some</a>(array, howMany)\n\n// try all of the p2p servers and fail if at least one doesn't respond\nvar remotes = [connect('p2p.cdn.com'), connect('p2p2.cdn.com'), connect('p2p3.cdn.com')];\n<a href=\"#!/api/when-method-some\" rel=\"when-method-some\" class=\"docClass\">when.some</a>(remotes, 1).then(initP2PServer, failGracefully);\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>promisesOrValues</span> : <a href=\"#!/api/Array\" rel=\"Array\" class=\"docClass\">Array</a><div class='sub-desc'><p>array of anything, may contain a mix of promises and values</p>\n</div></li><li><span class='pre'>howMany</span> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><div class='sub-desc'><p>{number} number of promisesOrValues to resolve</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'><p>promise that will resolve to an array of <code>howMany</code> values that resolved first,\nor will reject with an array of <code>(promisesOrValues.length - howMany) + 1</code> rejection reasons.</p>\n</div></li></ul></div></div></div><div id='method-try' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='when'>when</span><br/><a href='source/when.html#when-method-try' target='_blank' class='view-source'>view source</a></div><a href='#!/api/when-method-try' class='name expandable'>try</a>( <span class='pre'>f, [arg]</span> ) : <a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Calls f with the supplied arguments, returning a promise for the result. ...</div><div class='long'><p>Calls <code>f</code> with the supplied arguments, returning a promise for the result.\nThe arguments may be promises, in which case, <code>f</code> will be called after they have fulfilled.\nThe returned promise will fulfill with the successful result of calling <code>f</code>.\nIf any argument is a rejected promise, or if <code>f</code> fails by throwing or returning a rejected promise,\nthe returned promise will also be rejected.</p>\n\n<p>This can be a great way to kick off a promise chain when you want to return a promise,\nrather than creating a one manually.</p>\n\n<pre><code>// Try to parse the JSON, capture any failures in the returned promise\n// (This will never throw)\nreturn <a href=\"#!/api/when-method-try\" rel=\"when-method-try\" class=\"docClass\">when.try</a>(JSON.parse, jsonString);\n</code></pre>\n        <p>Available since: <b>3.0</b></p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>f</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'>\n</div></li><li><span class='pre'>arg</span> : ...* (optional)<div class='sub-desc'>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/when.Promise\" rel=\"when.Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{"singleton":true}});