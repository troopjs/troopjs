/*!
 *   ____ .     ____  ____  ____    ____.
 *   \   (/_\___\  (__\  (__\  (\___\  (/
 *   / ._/  ( . _   \  . /   . /  . _   \_
 * _/    ___/   /____ /  \_ /  \_    ____/
 * \   _/ \____/   \____________/   /
 *  \_t:_____r:_______o:____o:___p:/ [ troopjs - 3.0.0-rc.1+b4b32c9 ]
 *
 * @license http://troopjs.mit-license.org/ Â© Mikael Karon, Garry Yao, Eyal Arubas
 */
define("troopjs/version",[],{toString:function(){return"3.0.0-rc.1+b4b32c9"}}),define("troopjs-compose/decorator",["poly/object"],function(){return function(a){Object.defineProperties(this,{decorate:{value:a}})}}),define("troopjs-compose/decorator/after",["../decorator"],function(a){var b,c="value";return function(d){return new a(function(a){var e=a[c];return a[c]=e?function(){var a=this,c=e.apply(a,arguments),f=d.apply(a,arguments);return f!==b?f:c}:d,a})}}),define("troopjs-compose/decorator/around",["../decorator"],function(a){var b="value",c=function(){};return function(d){return new a(function(a){return a[b]=d(a[b]||c),a})}}),define("troopjs-compose/decorator/before",["../decorator"],function(a){var b,c="value";return function(d){return new a(function(a){var e=a[c];return a[c]=e?function(){var a=this,c=d.apply(a,arguments);return e.apply(a,c!==b?c:arguments)}:d,a})}}),define("mu-merge/main",["poly/object"],function(){var a,b=null,c=Array.prototype,d=c.concat,e=Object.prototype,f=e.toString,g=f.call(e),h=f.call(c),i="length";return function j(c){var e,k,l,m,n,o,p,q,r,s,t=this;if(t!==a&&t!==b)for(l=0,n=arguments[i];n>l;l++)if((c=arguments[l])!==a&&c!==b)for(k=Object.keys(c),m=0,o=k[i];o>m;m++)e=k[m],p=c[e],q=t[e],e in t?(r=f.call(p),s=f.call(q),s===g&&r===g?j.call(q,p):t[e]=s===h&&r===h?d.call(q,p):p):t[e]=p;return t}}),define("troopjs-compose/decorator/extend",["../decorator","mu-merge/main"],function(a,b){var c,d="value",e=Array.prototype.concat;return function(f){var g=arguments;return new a(function(a,h,i){var j,k=i[h][d];return"function"==typeof f?j=f(k):k!==c&&(j=b.apply({},e.apply([k],g))),a[d]=j,a})}}),define("troopjs-compose/decorator/from",["../decorator"],function(a){var b,c="value",d="prototype";return function(e,f){return"string"==typeof e&&(f=e,e=b),new a(function(a,b,g){return b=f||b,a[c]=e?e[d][b]:g[b][c],a})}}),define("troopjs-compose/config",["module","mu-merge/main"],function(a,b){return b.call({pragmas:[],specials:/^([^\/]+)\/(.+?)(?:\((.*)\))?$/},a.config())}),define("mu-emitter/config",{handlers:"handlers",emitter:"emitter",type:"type",callback:"callback",data:"data",scope:"scope",executor:"executor",head:"head",tail:"tail",next:"next",count:"count",limit:"limit",on:"on",off:"off"}),define("troopjs-core/config",["module","troopjs-compose/config","mu-emitter/config","mu-merge/main"],function(a,b,c,d){var e={skip:/^(?:initi|fin)alized?$/,initialize:"initialize",initialized:"initialized",start:"start",started:"started",stop:"stop",stopped:"stopped",finalize:"finalize",finalized:"finalized"},f={setup:"sig/setup",add:"sig/add",remove:"sig/remove",teardown:"sig/teardown",initialize:"sig/initialize",start:"sig/start",stop:"sig/stop",finalize:"sig/finalize",register:"sig/register",unregister:"sig/unregister",task:"sig/task"};return d.call({},b,{signal:f,phase:e,emitter:c},a.config())}),define("troopjs-core/component/signal/initialize",["../../config","when/when"],function(a,b){var c,d=Array.prototype.push,e="phase",f=a.phase.initialize,g=a.phase.initialized,h=a.signal.initialize;return function(){var a=this,i=arguments;return b(a[e],function(b){var j;return b===c?(a[e]=f,d.apply(j=[h],i),a.emit.apply(a,j).then(function(){return a[e]=g})):b})}}),define("troopjs-core/component/signal/start",["./initialize","../../config","when/when"],function(a,b,c){var d=Array.prototype.push,e="phase",f=b.phase.initialized,g=b.phase.start,h=b.phase.started,i=b.signal.start;return function(){var b=this,j=arguments;return c(a.apply(b,j),function(a){var c;return a===f?(b[e]=g,d.apply(c=[i],j),b.emit.apply(b,c).then(function(){return b[e]=h})):a})}}),define("troopjs-core/component/signal/stop",["./start","../../config","when/when"],function(a,b,c){var d=Array.prototype.push,e="phase",f=b.phase.started,g=b.phase.stop,h=b.phase.stopped,i=b.signal.stop;return function(){var b=this,j=arguments;return c(a.apply(b,j),function(a){var c;return a===f?(b[e]=g,d.apply(c=[i],j),b.emit.apply(b,c).then(function(){return b[e]=h})):a})}}),define("troopjs-core/component/signal/finalize",["./stop","../../config","when/when"],function(a,b,c){var d=Array.prototype.push,e="phase",f=b.phase.stopped,g=b.phase.finalize,h=b.phase.finalized,i=b.signal.finalize;return function(){var b=this,j=arguments;return c(a.apply(b,j),function(a){var c;return a===f?(b[e]=g,d.apply(c=[i],j),b.emit.apply(b,c).then(function(){return b[e]=h})):a})}}),define("troopjs-log/methods",[],function(){return["assert","debug","dir","error","info","log","time","timeEnd","trace","warn"]}),define("troopjs-log/null",["./methods","poly/array"],function(a){return function(){var b=this,c=function(){};return a.forEach(function(a){b[a]=c}),b}.call({})}),define("mu-emitter/handler",["./config"],function(a){function b(a,b,o,p){var q=this;if(q[f]=a,q[g]=b,q[i]=p,d.call(o)===e)q[h]=o,q[j]=a;else{if(o===c)throw new Error("Unable to use 'callback'");q[h]=o[h],q[j]=o[j]||a,o.hasOwnProperty(k)&&(q[k]=o[k],q[l]=0),o.hasOwnProperty(m)&&(q[m]=o[m]),o.hasOwnProperty(n)&&(q[n]=o[n])}}var c,d=Object.prototype.toString,e="[object Function]",f=a.emitter,g=a.type,h=a.callback,i=a.data,j=a.scope,k=a.limit,l=a.count,m=a.on,n=a.off;return b.prototype.handle=function(a){var b=this,c=b[h].apply(b[j],a);return b.hasOwnProperty(k)&&++b[l]>=b[k]&&b[f].off(b[g],b),c},b}),define("mu-emitter/executor",["./config","poly/array"],function(a){var b,c=a.callback,d=a.scope,e=a.head,f=a.next;return function(a,g,h){var i,j=[],k=0,l=a[c],m=a[d];for(i=g[e];i!==b;i=i[f])l&&i[c]!==l||m&&i[d]!==m||(j[k++]=i);return j.map(function(a){return a.handle(h)})}}),define("mu-emitter/main",["./config","./handler","./executor"],function(a,b,c){function d(){}var e,f=Array.prototype.slice,g=Object.prototype.toString,h="[object String]",i="[object Function]",j=a.handlers,k=a.executor,l=a.type,m=a.callback,n=a.scope,o=a.limit,p=a.head,q=a.tail,r=a.next,s=a.on,t=a.off;return d.prototype[k]=c,d.prototype.on=function(a,c,d){var f,g=this,h=g[j]||(g[j]={});if(c===e)throw new Error("no 'callback' provided");f=new b(g,a,c,d),h.hasOwnProperty(a)?(h=h[a],h[q]=h.hasOwnProperty(q)?h[q][r]=f:h[p]=f):(h=h[a]={},h[l]=a,h[p]=h[q]=f),f.hasOwnProperty(s)&&f[s].call(g,f,h)},d.prototype.off=function(a,b){var c,d,f,h=this,k=h[j]||(h[j]={}),l=e,o=e;if(k.hasOwnProperty(a)){for(k=k[a],g.call(b)===i?(d=b,f=h):b!==e&&(d=b[m],f=b[n]),c=k[p];c!==e;c=c[r])d&&c[m]!==d||f&&c[n]!==f?l===e?l=o=c:o=o[r]=c:c.hasOwnProperty(t)&&c[t].call(h,c,k);l!==e?k[p]=l:delete k[p],o!==e?(k[q]=o,delete o[r]):delete k[q]}},d.prototype.one=function(a,b,c){var d,e=this;return g.call(b)===i?(d={},d[m]=b,d[o]=1):(d=b,d[o]=1),e.on(a,d,c)},d.prototype.emit=function(a){var b,c,d,e=this,i=e[j]||(e[j]={});if(g.call(a)===h)b={},c=b[l]=a,d=e[k];else{if(!a.hasOwnProperty(l))throw new Error("Unable to use 'event'");b=a,c=a[l],d=a[k]||e[k]}return i.hasOwnProperty(c)?i=i[c]:(i=i[c]={},i[l]=c),d.call(e,b,i,f.call(arguments,1))},d}),function(){function a(){return function(a,b){Array.prototype.sort.call(a,b)}}if("function"==typeof define&&define.amd)define("mu-unique/src/sorter",[],a);else{if("object"!=typeof exports)throw Error("no module loader found");module.exports=a()}}(),function(){function a(a){function b(a,b){return a>b?1:b>a?-1:0}function c(a,b){return a===b}function d(a,b){var c=0,d=1,e=a.length;if(!(2>e)){for(;e>c;)0!==b(a[c],a[d-1])&&(a[d]=a[c],d++),c++;a.length=d}}function e(a,b){for(var c,d=0,e=a.length;e>d;){for(c=d+1;e>c;)b(a[d],a[c])&&(a[c--]=a[--e]),c++;d++}a.length=e}var f=!1;return function(){var g,h,i,j=Array.prototype.slice.call(arguments,0);if(0===j.length&&j.push(this),1===j.length&&("[object Array]"!==Object.prototype.toString.call(j[0])?j.unshift(this):j.push(f)),2===j.length&&("[object Array]"!==Object.prototype.toString.call(j[0])?j.unshift(this):j[1]===!0?j.push(b):j[1]===!1?j.push(c):(j[2]=j[1],j[1]=f)),g=j[0],h=j[1],i=j[2],"[object Array]"!==Object.prototype.toString.call(g))throw Error("'arr' must be an array");if(h!==!0&&h!==!1)throw Error("'sortable' must be a boolean");if("function"!=typeof i)throw Error("'comparator' must be a function");return h?(a(g,i),d(g,i)):e(g,i),g.length}}if("function"==typeof define&&define.amd)define("mu-unique/src/unique",["./sorter"],a);else{if("object"!=typeof exports)throw Error("no module loader found");module.exports=a(require("./sorter"))}}(),function(){function a(a){return a}if("function"==typeof define&&define.amd)define("mu-unique/main",["./src/unique"],a);else{if("object"!=typeof exports)throw Error("no module loader found");module.exports=a(require("./src/unique"))}}(),function(){function a(){var a,b=String.prototype.substring,c=String.prototype.slice,d=/^(["']).*\1$/,e=/^(?:false|true)$/i,f=/^true$/i,g=/^\d+$/;return function(h){function i(i,j){if(i!==j){var k=b.call(h,i,j);d.test(k)?k=c.call(k,1,-1):e.test(k)?k=f.test(k):g.test(k)&&(k=+k),p.push(k),n!==a&&(p[n]=k,n=a)}}if(h=h||this,!("string"==typeof h||h instanceof String))throw Error("First argument must be a string");var j,k,l,m,n,o,p=[],q=!1;for(l=j=k=0,m=h.length;m>l;l++)switch(o=h.charAt(l)){case'"':case"'":q===o?(q=!1,k=l+1):q===!1&&(q=o,j=k=l);break;case" ":case"	":if(q){k=l+1;break}j===k&&(j=k=l+1);break;case"=":if(q){k=l+1;break}j!==k&&(n=b.call(h,j,k),d.test(n)&&(n=c.call(n,1,-1))),j=l+1;break;case",":if(q){k=l+1;break}i(j,k),j=k=l+1;break;default:k=l+1}return i(j,k),p}}if("function"==typeof define&&define.amd)define("mu-getargs/src/getargs",[],a);else{if("object"!=typeof exports)throw Error("no module loader found");module.exports=a()}}(),function(){function a(a){return a}if("function"==typeof define&&define.amd)define("mu-getargs/main",["./src/getargs"],a);else{if("object"!=typeof exports)throw Error("no module loader found");module.exports=a(require("./src/getargs"))}}(),define("troopjs-compose/factory",["./config","./decorator","mu-unique/main","mu-getargs/main","poly/object","poly/function"],function(a,b,c,d){function e(){return f.apply(this,arguments)()}function f(){var a=[this];return l.apply(a,arguments),h.apply(null,a)}function g(){var a=this,b=a[i];return q in b?b[q]:o.call(a)}function h(){function a(){var b,c=this instanceof a?this:Object.create(_),d=arguments;for(Object.defineProperty(c,v,{value:a}),b=0;G>b;b++)d=Z[b].apply(c,d)||d;return c}var h,k,q,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W=[],X=n.call(arguments),Y=X[r],Z=[],$=W[C]=[],_={},ab={},bb={};for(L=0;Y>L;L++){if(q=X[L],typeof q===p){if(w in q?l.apply(Z,q[w]):l.call(Z,q),x in q&&m.apply(W,q[x]),q===q[i][v])continue;q=q[i]}for(J=Object.getOwnPropertyNames(q),M=0,K=J[r];K>M;M++){for(H=I=J[M],N=0;N<E[r]&&(O=E[N],(H=H.replace(O.pattern,typeof(P=O.replace)===p?P.bind(q):P))===I);N++);if(T=F.exec(H)){if(h={},h[y]=Q=T[1],(S=T[2])&&(h[B]=S),h[D]=Q+(S?"/"+S:""),h[A]=d.call(T[3]||""),"[object Function]"!==o.call(h[z]=q[I]))continue;m.call(W,h)}else V=Object.getOwnPropertyDescriptor(q,I),U=V[z],ab[H]=U instanceof b?U[u](ab[H]||{enumerable:!0,configurable:!0,writable:!0},H,ab):V}}for(Object.defineProperties(_,ab),G=c.call(Z),k=c.call(W),L=0;k>L;L++)h=W[L],Q=h[y],S=h[B],H=h[D],Q=Q in W?W[Q]:W[$[$[r]]=Q]=[],S&&(R=C in Q?Q[C]:Q[C]=[],S=S in Q?Q[S]:Q[R[R[r]]=S]=W[H]=[],S[S[r]]=h),Q[Q[r]]=h;return bb[i]={value:_},bb[w]={value:Z},bb[x]={value:W},bb[j]={value:g},bb[s]={value:f},bb[t]={value:e},Object.defineProperties(a,bb),a}var i="prototype",j="toString",k=Array[i],l=k.push,m=k.unshift,n=k.slice,o=Object[i][j],p="function",q="displayName",r="length",s="extend",t="create",u="decorate",v="constructor",w="constructors",x="specials",y="group",z="value",A="args",B="type",C="types",D="name",E=a.pragmas,F=a[x];return Object.defineProperty(h,t,{value:function(){return h.apply(null,arguments)()}}),h}),define("troopjs-log/console",["./methods","poly/array","poly/function"],function(a){return function(b){var c=this,d=function(){};return a.forEach(function(a){c[a]=this.call(b[a]||d,b)},Function.prototype.bind),c}.call({},(this||window).console||{})}),define("troopjs-log/logger",["./console"],function(a){return a}),define("troopjs-core/composition",["troopjs-compose/factory","troopjs-log/logger"],function(a,b){var c=0,d="instanceCount";return a(function(){this[d]=++c},b,{instanceCount:c,displayName:"core/composition",toString:function(){var a=this;return a.displayName+"@"+a[d]}})}),define("troopjs-core/emitter/executor",["../config","when/when"],function(a,b){var c,d=a.emitter.callback,e=a.emitter.scope,f=a.emitter.head,g=a.emitter.next;return function(a,h,i){var j,k=[],l=0,m=a[d],n=a[e];for(j=h[f];j!==c;j=j[g])m&&j[d]!==m||n&&j[e]!==n||(k[l++]=j);return b.reduce(k,function(a,c,d){return b(c.handle(i),function(b){a[d]=b})["yield"](a)},k)}}),define("troopjs-core/emitter/composition",["mu-emitter/main","../composition","../config","./executor","troopjs-compose/decorator/from","when/when"],function(a,b,c,d,e){var f=c.emitter.executor,g=c.emitter.handlers;return b.extend(function(){this[g]={}},function(a,b){var c=this;return c[a]=b,c}.call({displayName:"core/emitter/composition",on:e(a),off:e(a),one:e(a),emit:e(a)},f,d))}),define("troopjs-core/component/executor",["../config","poly/array"],function(a){var b,c=!1,d=a.emitter.head,e=a.emitter.next,f=a.emitter.callback,g=a.emitter.scope;return function(a,h,i){var j,k=[],l=0,m=a[g],n=a[f];for(j=h[d];j!==b;j=j[e])n&&j[f]!==n||m&&j[g]!==m||(k[l++]=j);return k.reduce(function(a,d){var e=a!==c?d.handle(i):a;return e===b?a:e},b)}}),define("troopjs-core/registry/emitter",["../emitter/composition","../config","../component/executor","poly/array","poly/object"],function(a,b,c){var d="length",e="index",f=Object.prototype.toString,g="[object RegExp]",h=b.signal.register,i=b.signal.unregister,j=b.emitter.executor;return a.extend(function(){this[e]={}},function(a,b){var c=this;return c[a]=b,c}.call({displayName:"core/registry/emitter",get:function(a){var b,c=this[e];return b=0===arguments[d]?Object.keys(c).map(function(a){return c[a]}):f.call(a)===g?Object.keys(c).filter(function(b){return a.test(b)}).map(function(a){return c[a]}):c[a]},register:function(a,b){var c=this,d=c[e];return d[a]!==b&&(d.hasOwnProperty(a)&&c.unregister(a),c.emit(h,a,d[a]=b)),b},unregister:function(a){var b,c=this,d=c[e];return d.hasOwnProperty(a)&&(b=d[a],delete d[a]&&c.emit(i,a,b)),b}},j,c))}),define("troopjs-core/component/registry",["../registry/emitter"],function(a){return a.create({displayName:"core/component/registry"})}),define("troopjs-core/task/registry",["../registry/emitter"],function(a){return a.create({displayName:"core/task/registry"})}),define("troopjs-core/task/factory",["./registry","when/when"],function(a,b){var c=0;return function(d,e){var f=b.isPromiseLike(d)?b(d):b.promise(d),g=(e||"task")+"@"+ ++c;return a.register(g,f.ensure(function(){a.unregister(g)}))}}),define("troopjs-core/component/emitter",["../emitter/composition","../config","./registry","./executor","../task/factory","mu-merge/main","troopjs-compose/decorator/around","when/when","poly/array"],function(a,b,c,d,e,f,g,h){var i=!1,j=Array.prototype,k=b.emitter.executor,l=b.emitter.handlers,m=b.emitter.head,n=b.emitter.tail,o=b.signal.setup,p=b.signal.add,q=b.signal.remove,r=b.signal.teardown,s=b.signal.task,t="name",u="type",v="value",w="on",x="one",y="sig",z=new RegExp("^"+y+"/(.+)");return a.extend(function(){var a=this,b=a.constructor.specials[y]||j;b.forEach(function(b){a.on(b[t],b[v])})},{displayName:"core/component/base","sig/initialize":function(){var a=this,b=a.constructor.specials;c.register(a.toString(),a);var d=h.map(b[w]||j,function(b){return a.on(b[u],b[v])}),e=h.map(b[x]||j,function(b){return a.one(b[u],b[v])});return h.join(d,e)},"sig/finalize":function(){var a=this;c.unregister(a.toString(),a),Object.keys(a[l]).forEach(function(b){a.off(b)})},on:g(function(a){return function(b,c,e){var f,g,h,j=this,n=j[l];z.test(b)||(n.hasOwnProperty(b)?h=n[b]:(h={},h[u]=b),f={},f[k]=d,h.hasOwnProperty(m)||(f[u]=o,g=j.emit(f,h,b,c,e)),g!==i&&(f[u]=p,g=j.emit(f,h,b,c,e)),g===i||n.hasOwnProperty(b)||(n[b]=h)),g!==i&&a.call(j,b,c,e)}}),off:g(function(a){return function(b,c){var e,f,g,h=this,j=h[l];z.test(b)||(j.hasOwnProperty(b)?g=j[b]:(g={},g[u]=b),e={},e[k]=d,e[u]=q,f=h.emit(e,g,b,c),f!==i&&g[m]===g[n]&&(e[u]=r,f=h.emit(e,g,b,c)),f===i||j.hasOwnProperty(b)||(j[b]=g)),f!==i&&a.call(h,b,c)}}),task:function(a,b){var c=this,d=e.call(c,a,b);return c.emit(s,d,b)["yield"](d)}})}),define("troopjs-core/pubsub/executor",["../config","when/when"],function(a,b){var c,d=Object.prototype.toString,e=Array.prototype.slice,f="[object Arguments]",g="[object Array]",h=a.phase.skip,i=a.emitter.scope,j=a.emitter.callback,k=a.emitter.head,l=a.emitter.next,m="phase",n="memory";return function(a,o,p){var q,r=[],s=0,t=a[i],u=a[j];for(q=o[k];q!==c;q=q[l])u&&q[j]!==u||t&&q[i]!==t||(r[s++]=q);return b.reduce(r,function(a,j){var k=j[i];return k!==c&&h.test(k[m])?a:b(j.handle(a),function(b){if(b===c)return a;switch(d.call(b)){case f:return e.call(b);case g:return b;default:return[b]}})},p).tap(function(a){o[n]=a})}}),define("troopjs-core/pubsub/emitter",["../emitter/composition","../config","./executor","troopjs-compose/decorator/from"],function(a,b,c,d){var e,f="memory",g=b.emitter.handlers,h=b.emitter.executor;return a.extend(function(a,b){var c=this;return c[a]=b,c}.call({displayName:"core/pubsub/emitter",subscribe:d("on"),unsubscribe:d("off"),publish:d("emit"),peek:function(a,b){var c;return(c=this[g][a])!==e&&c.hasOwnProperty(f)?c[f]:b}},h,c))}),define("troopjs-core/pubsub/hub",["./emitter"],function(a){return a.create({displayName:"core/pubsub/hub"})}),define("troopjs-core/component/gadget",["./emitter","../config","../pubsub/hub","../pubsub/executor","when/when"],function(a,b,c,d,e){var f,g=null,h=Array.prototype,i=b.emitter.executor,j=b.emitter.scope,k=b.emitter.callback,l="args",m="name",n="type",o="value",p="hub",q=new RegExp("^"+p+"/(.+)");return a.extend({displayName:"core/component/gadget","sig/initialize":function(){var a=this;return e.map(a.constructor.specials[p]||h,function(b){return a.on(b[m],b[o])})},"sig/start":function(){var a=this,b={},g=a.constructor.specials[p]||h;return g=g.map(function(e){var f,g;return e[l][0]===!0&&(f=c.peek(e[n],b))!==b&&(g={},g[n]=e[m],g[i]=d,g[j]=a,g[k]=e[o],g=[g].concat(f)),g}).filter(function(a){return a!==f}),e.map(g,function(b){return a.emit.apply(a,b)})},"sig/add":function(a,b,d){var e,f,h=this;(e=q.exec(b))!==g&&(f={},f[j]=h,f[k]=d,c.subscribe(e[1],f))},"sig/remove":function(a,b,d){var e,f,h=this;(e=q.exec(b))!==g&&(f={},f[j]=h,f[k]=d,c.unsubscribe(e[1],f))}})}),define("troopjs-dom/config",["troopjs-core/config","module","mu-merge/main"],function(a,b,c){var d={render:"sig/render"};return c.call({},a,{signal:d},b.config())}),function(){function a(){function a(a){var b,d,e,f=[];for(a=a.replace(c.ws,"").replace(c.garbage,"");d=a.match(c.candidate);)a=a.replace(c.candidate,"").replace(c.garbage,""),f.push(d[0]);if(e=f.length,!e)return"*";for(b=0;e>b;b++)if(c.id.test(f[b]))return f[b];for(b=0;e>b;b++)if(c.cls.test(f[b]))return f[b];return f[0]}var b="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",c={ws:/(\s+)$/,garbage:/(\:.+?|\[.*?\])$/,id:new RegExp("^#"+b),cls:new RegExp("^\\."+b),candidate:new RegExp("([#\\.]{0,1}"+b+"?)$")};return a}if("function"==typeof define&&define.amd)define("mu-selector-set/src/classifier",[],a);else{if("object"!=typeof exports)throw Error("no module loader found");module.exports=a()}}(),function(){function a(){function a(d){var e,f=0,g=!1,h=d.length;if(!h)return[];for(;d[f]&&(g||d[f]!==c);)d[f]===g?g=!1:g===!1&&-1!==b.indexOf(d[f])&&(g=d[f]),f++;return e=a(d.substr(f+1)),e.push(d.substr(0,f)),e}var b=["'",'"'],c=",";return a}if("function"==typeof define&&define.amd)define("mu-selector-set/src/splitter",[],a);else{if("object"!=typeof exports)throw Error("no module loader found");module.exports=a()}}(),function(){function a(){function a(){this.lists={}}return a.prototype.add=function(a,b){return a+=" ",this.lists[a]=this.lists[a]||[],this.lists[a].push(b),this},a.prototype.remove=function(a,c,d){a+=" ",d=d||b;var e,f=this.lists[a];if(!f)return this;if(!c)return delete this.lists[a],this;for(e=f.length;e--;)d(c,f[e])&&f.splice(e,1);return this},a.prototype.get=function(a){return a+=" ",this.lists[a]||(this.lists[a]=[]),this.lists[a]},a}function b(a,b){return a===b}if("function"==typeof define&&define.amd)define("mu-selector-set/src/MappedLists",a);else{if("object"!=typeof exports)throw Error("no module loader found");module.exports=a()}}(this),function(){function a(a){function b(b,c,d){var e=new a;this.isOfType=function(a){return b.test(a)},this.extractElementKeys=c,this.add=function(a,b){return e.add(d?a.toLowerCase():a,b),this},this.remove=function(a,b,c){return e.remove(d?a.toLowerCase():a,b,c),this},this.get=function(a){return e.get(d?a.toLowerCase():a)}}return function(){var a=[];return a.push(new b(/^#.+$/,function(a){return a.id?["#"+a.id]:[]})),a.push(new b(/^\..+$/,function(a){var b=[],c=a.className;return"string"==typeof c?b=c.split(/\s+/):"object"==typeof c&&"baseVal"in c&&(b=c.baseVal.split(/\s+/)),b.map(function(a){return"."+a})})),a.push(new b(/^[^\*\.#].*$/,function(a){return a.nodeName?[a.nodeName]:[]},!0)),a.push(new b(/^\*$/,function(){return["*"]})),a}}if("function"==typeof define&&define.amd)define("mu-selector-set/src/Subsets",["./MappedLists"],a);else{if("object"!=typeof exports)throw Error("no module loader found");module.exports=a(require("./MappedLists"))}}(),function(){function a(){function a(a){for(var b=this,c=b.document||b.ownerDocument,d=c.querySelectorAll(a),e=0;d[e]&&d[e]!==b;)e++;return d[e]?!0:!1}var b=window.document.documentElement,c=b.matches||b.matchesSelector||b.webkitMatchesSelector||b.mozMatchesSelector||b.oMatchesSelector||b.msMatchesSelector||a;return function(a,b){return c.call(a,b)}}if("function"==typeof define&&define.amd)define("mu-selector-set/src/matchesSelector",a);else{if("object"!=typeof exports)throw Error("no module loader found");module.exports=a()}}(),function(){function a(a,b,c,d){function e(){this.subsets=c()}function f(){var b,c,d,e=Array.prototype.slice.call(arguments);for(e[0]=e[0].trim(),d=a(e[0]),b=0;b<this.subsets.length;b++)if(c=this.subsets[b],c.isOfType(d))return void c.add(d,e)}function g(){function b(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]!==b[c])return!1;return!0}var c,d,e,f=Array.prototype.slice.call(arguments);for(f[0]=f[0].trim(),e=a(f[0]),c=0;c<this.subsets.length;c++)if(d=this.subsets[c],d.isOfType(e))return void d.remove(e,f,b)}return e.prototype.matchesSelector=d,e.prototype.add=function(a){for(var c=Array.prototype.slice.call(arguments),d=b(a),e=d.length;e--;)c.splice(0,1,d[e]),f.apply(this,c);return this},e.prototype.remove=function(a){for(var c=Array.prototype.slice.call(arguments),d=b(a),e=d.length;e--;)c.splice(0,1,d[e]),g.apply(this,c);return this},e.prototype.matches=function(){var a,b,c,d,e,f,g,h,i,j,k=[],l=Array.prototype.slice.call(arguments);for(l=Array.prototype.concat.apply([],l),d=0;d<l.length;d++)for(e=l[d],a=0;a<this.subsets.length;a++)for(f=this.subsets[a],h=f.extractElementKeys(e),b=0;b<h.length;b++)for(g=h[b],j=f.get(g),c=0;c<j.length;c++)i=j[c],-1===k.indexOf(i)&&this.matchesSelector(e,i[0])&&k.push(i);return k},e}if("function"==typeof define&&define.amd)define("mu-selector-set/src/SelectorSet",["./classifier","./splitter","./Subsets","./matchesSelector"],a);else{if("object"!=typeof exports)throw Error("no module loader found");module.exports=a(require("./classifier"),require("./splitter"),require("./Subsets"),require("./matchesSelector"))}}(),function(){function a(a){return a}if("function"==typeof define&&define.amd)define("mu-selector-set/main",["./src/SelectorSet"],a);else{if("object"!=typeof exports)throw Error("no module loader found");module.exports=a(require("./src/SelectorSet"))}}(),define("troopjs-dom/executor",["mu-selector-set/main","jquery","poly/array"],function(a,b){function c(a){return a[1]}var d,e=!1,f=0;return a.prototype.matchesSelector=b.find.matchesSelector,function(a,b,g){var h=d,i=b.direct,j=b.delegated,k=function(a,b){return l.isImmediatePropagationStopped()?a:(a===e&&(l.stopPropagation(),l.preventDefault()),b.handle(g))},l=g[0],m=l.delegateTarget,n=l.target,o=n.ownerDocument,p="click"!==l.type,q=n.nodeType!==d&&(l.button===f||p);do(n.disabled!==!0||p)&&(h=j.matches(l.currentTarget=n).map(c).reduce(k,h)),q=q&&!l.isPropagationStopped()&&n!==m&&null!==(n=n.parentNode)&&n!==o;while(q);return h!==e&&(h=i.reduce(k,h)),h}}),function(){function a(a){var b="destroy";a.event.special[b]={noBubble:!0,trigger:function(){return!1},remove:function(b){var c=this;b&&b.handler.call(c,a.Event(b.type,{data:b.data,namespace:b.namespace,target:c}))}}}if("function"==typeof define&&define.amd)define("mu-jquery-destroy/src/jQueryDestroy",["jquery"],a);else{if("object"!=typeof exports)throw Error("no module loader found");module.exports=a(require("jquery"))}}(),function(){function a(a){return a}if("function"==typeof define&&define.amd)define("mu-jquery-destroy/main",["./src/jQueryDestroy"],a);else{if("object"!=typeof exports)throw Error("no module loader found");module.exports=a(require("./src/jQueryDestroy"))}}(),define("troopjs-dom/component",["troopjs-core/component/gadget","./config","./executor","troopjs-compose/decorator/before","jquery","when/when","mu-selector-set/main","poly/array","mu-jquery-destroy/main"],function(a,b,c,d,e,f,g){function h(a,b){b[G].add(a[E],a)}function i(a,b){b[F].push(a)}function j(a,b){b[G].remove(a[E],a)}function k(a,b){var c=b[F],d=c.indexOf(a);-1!==d&&c.splice(d,1)}var l,m=null,n=Object.prototype.toString,o=Array.prototype,p=o.slice,q=o.push,r=e.fn,s=r.get,t="[object Function]",u="$element",v="proxy",w="dom",x="args",y="name",z="value",A=b.emitter.type,B=b.emitter.executor,C=b.emitter.scope,D=b.emitter.callback,E=b.emitter.data,F="direct",G="delegated",H="on",I="off",J=b.signal.render,K=new RegExp("^"+w+"/(.+)");return a.extend(function(a,b){var c,d,f=this;if(a===l||a===m)throw new Error("No $element provided");return a.jquery?(c=a.get)!==s&&(d=p.call(arguments),d[0]=a=e(c.call(a,0))):(d=p.call(arguments),d[0]=a=e(a)),f[u]=a,b!==l&&(f.displayName=b),d},{displayName:"dom/component","sig/initialize":function(){var a=this;return f.map(a.constructor.specials[w]||o,function(b){return a.on(b[y],b[z],b[x][0])})},"sig/setup":function(a,b){var d,e=this;(d=K.exec(b))!==m&&(a[F]=[],a[G]=new g,e[u].on(d[1],m,e,a[v]=function(){var a={};return a[A]=b,a[B]=c,a[C]=e,a=[a],q.apply(a,arguments),e.emit.apply(e,a)}))},"sig/teardown":function(a,b){var c,d=this;(c=K.exec(b))!==m&&d[u].off(c[1],m,a[v])},on:d(function(a,b,c){var d=b;return K.test(a)&&(n.call(b)===t&&(d={},d[D]=b),d[H]=c!==l?h:i,d[I]=c!==l?j:k),[a,d,c]})},["html","text","before","after","append","prepend"].reduce(function(a,b){var c=r[b];return a[b]=function(a){var b=this;if(0===arguments.length)return c.call(b[u]);var d=p.call(arguments,0);return f(a,function(a){return n.call(a)===t?a.apply(b,p.call(d,1)):a}).then(function(a){var f=d[0]=e(a),g=[J];return q.apply(g,d),c.call(b[u],f),b.emit.apply(b,g)["yield"](d)})},a},{}))}),define(["troopjs/version"],function(a){return a});